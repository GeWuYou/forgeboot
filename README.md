# ForgeBoot

> ğŸš€ ä¼ä¸šçº§ Spring Boot åŸºç¡€è®¾æ–½æ¡†æ¶ï¼Œæä¾›å¼€ç®±å³ç”¨çš„é€šç”¨ç»„ä»¶å’Œæœ€ä½³å®è·µã€‚

[![License](https://img.shields.io/badge/license-Apache%202-blue.svg)](https://www.apache.org/licenses/LICENSE-2.0)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.9+-purple.svg)](https://kotlinlang.org/)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

`ForgeBoot` æ˜¯ä¸€å¥—é¢å‘ Spring Boot çš„ä¼ä¸šçº§é€šç”¨åŸºç¡€åº“ï¼Œæ¶µç›– **Banner ç®¡ç†**ã€**å¤šå±‚ç¼“å­˜**ã€**ä¸Šä¸‹æ–‡ä¼ æ’­**ã€**åˆ†å¸ƒå¼è¿½è¸ª**ã€*
*æœåŠ¡é˜²æŠ¤**ã€**æ–‡ä»¶å­˜å‚¨**ã€**å›½é™…åŒ–**ã€**Web MVC å¢å¼º** ç­‰å¤šä¸ªé¢†åŸŸã€‚æ—¨åœ¨å¸®åŠ©å›¢é˜Ÿå¿«é€Ÿæ­å»ºç”Ÿäº§çº§å¾®æœåŠ¡åº”ç”¨ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œç»Ÿä¸€æŠ€æœ¯æ ˆã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¨ **å¼€ç®±å³ç”¨**ï¼šæ‰€æœ‰æ¨¡å—å‡æä¾› Spring Boot Starterï¼Œå¼•å…¥ä¾èµ–å³å¯ä½¿ç”¨
- ğŸ”§ **çµæ´»é…ç½®**ï¼šé€šè¿‡ `application.yml` å³å¯å®Œæˆå¤§éƒ¨åˆ†é…ç½®
- ğŸŒ **å›½é™…åŒ–æ”¯æŒ**ï¼šå†…ç½® i18n æ¨¡å—ï¼Œè½»æ¾å®ç°å¤šè¯­è¨€
- ğŸ›¡ï¸ **æœåŠ¡é˜²æŠ¤**ï¼šé›†æˆé™æµã€å¹‚ç­‰ã€å†·å´ã€å°è¯•é™åˆ¶ç­‰é˜²æŠ¤èƒ½åŠ›
- ğŸ“¦ **ç»Ÿä¸€å“åº”**ï¼šæ ‡å‡†åŒ– API å“åº”ç»“æ„ï¼Œæå‡å‰åç«¯åä½œæ•ˆç‡
- ğŸ” **å…¨é“¾è·¯è¿½è¸ª**ï¼šè‡ªåŠ¨ç”Ÿæˆå¹¶ä¼ æ’­ traceIdï¼Œæ”¯æŒå¤šçº¿ç¨‹/åç¨‹/Reactor
- ğŸ’¾ **å¤šå±‚ç¼“å­˜**ï¼šæ”¯æŒ Caffeine + Redis ç»„åˆç¼“å­˜ï¼Œæä¾›ç¼“å­˜é¢„çƒ­ã€è¿‡æœŸç­–ç•¥ç­‰
- ğŸ“ **æ–‡ä»¶å­˜å‚¨**ï¼šæŠ½è±¡å­˜å‚¨æ¥å£ï¼Œæ”¯æŒ MinIOã€OSSã€S3 ç­‰å¤šç§åç«¯
- ğŸš¨ **å…¨å±€å¼‚å¸¸å¤„ç†**ï¼šç»Ÿä¸€å¼‚å¸¸æ‹¦æˆªå’Œå“åº”æ ¼å¼
- ğŸ“ **è¯·æ±‚æ—¥å¿—**ï¼šè‡ªåŠ¨è®°å½•æ¥å£è°ƒç”¨æ—¥å¿—ï¼Œæ”¯æŒæ•æ„Ÿä¿¡æ¯è„±æ•

---

## ğŸ“¦ æ¨¡å—åˆ—è¡¨

### ğŸ¯ æ ¸å¿ƒæ¨¡å—

| æ¨¡å—                                                   | æè¿°                    | æ–‡æ¡£                                      |
|------------------------------------------------------|-----------------------|-----------------------------------------|
| [`forgeboot-banner`](forgeboot-banner/README.md:1)   | å¯åŠ¨æ¨ªå¹…ç®¡ç†                | [README](forgeboot-banner/README.md:1)  |
| [`forgeboot-core`](forgeboot-core/README.md:1)       | æ ¸å¿ƒæ‰©å±•ä¸åºåˆ—åŒ–              | [README](forgeboot-core/README.md:1)    |
| [`forgeboot-context`](forgeboot-context/README.md:1) | ä¸Šä¸‹æ–‡ä¼ æ’­ï¼ˆå¤šçº¿ç¨‹/åç¨‹/Reactorï¼‰ | [README](forgeboot-context/README.md:1) |
| [`forgeboot-trace`](forgeboot-trace/README.md:1)     | åˆ†å¸ƒå¼è°ƒç”¨é“¾è¿½è¸ª              | [README](forgeboot-trace/README.md:1)   |

### ğŸ’¾ æ•°æ®ä¸ç¼“å­˜

| æ¨¡å—                                                   | æè¿°                     | æ–‡æ¡£                                      |
|------------------------------------------------------|------------------------|-----------------------------------------|
| [`forgeboot-cache`](forgeboot-cache/README.md:1)     | å¤šå±‚ç¼“å­˜ï¼ˆCaffeine + Redisï¼‰ | [README](forgeboot-cache/README.md:1)   |
| [`forgeboot-storage`](forgeboot-storage/README.md:1) | æ–‡ä»¶å­˜å‚¨æŠ½è±¡ï¼ˆMinIO/OSS/S3ï¼‰   | [README](forgeboot-storage/README.md:1) |

### ğŸ›¡ï¸ æœåŠ¡é˜²æŠ¤

| æ¨¡å—                                                       | æè¿°                  | æ–‡æ¡£                                        |
|----------------------------------------------------------|---------------------|-------------------------------------------|
| [`forgeboot-safeguard`](forgeboot-safeguard/README.md:1) | æœåŠ¡é˜²æŠ¤ï¼ˆé™æµ/å¹‚ç­‰/å†·å´/å°è¯•é™åˆ¶ï¼‰ | [README](forgeboot-safeguard/README.md:1) |

### ğŸŒ Web å¢å¼º

| æ¨¡å—                                                                                      | æè¿°             | æ–‡æ¡£                                                                |
|-----------------------------------------------------------------------------------------|----------------|-------------------------------------------------------------------|
| [`forgeboot-webmvc`](forgeboot-webmvc/README.md:1)                                      | Web MVC é€šç”¨ç»„ä»¶é›†åˆ | [README](forgeboot-webmvc/README.md:1)                            |
| [`forgeboot-webmvc-dto`](forgeboot-webmvc/forgeboot-webmvc-dto/README.md:1)             | ç»Ÿä¸€å“åº”å°è£…ä¸åˆ†é¡µ      | [README](forgeboot-webmvc/forgeboot-webmvc-dto/README.md:1)       |
| [`forgeboot-webmvc-exception`](forgeboot-webmvc/forgeboot-webmvc-exception/README.md:1) | å…¨å±€å¼‚å¸¸å¤„ç†         | [README](forgeboot-webmvc/forgeboot-webmvc-exception/README.md:1) |
| [`forgeboot-webmvc-logger`](forgeboot-webmvc/forgeboot-webmvc-logger/README.md:1)       | è¯·æ±‚/å“åº”æ—¥å¿— AOP    | [README](forgeboot-webmvc/forgeboot-webmvc-logger/README.md:1)    |
| `forgeboot-webmvc-validation`                                                           | å‚æ•°æ ¡éªŒå¢å¼º         | -                                                                 |

### ğŸŒ å›½é™…åŒ–

| æ¨¡å—                                             | æè¿°    | æ–‡æ¡£                                   |
|------------------------------------------------|-------|--------------------------------------|
| [`forgeboot-i18n`](forgeboot-i18n/README.md:1) | å›½é™…åŒ–æ”¯æŒ | [README](forgeboot-i18n/README.md:1) |

### ğŸ“š ç¤ºä¾‹ä¸æ¼”ç¤º

| æ¨¡å—                                             | æè¿°      | æ–‡æ¡£                                   |
|------------------------------------------------|---------|--------------------------------------|
| [`forgeboot-demo`](forgeboot-demo/README.md:1) | å„æ¨¡å—åŠŸèƒ½ç¤ºä¾‹ | [README](forgeboot-demo/README.md:1) |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- JDK 17+
- Gradle 8.x æˆ– Maven 3.8+
- Redis 6.x+ï¼ˆç¼“å­˜/é˜²æŠ¤æ¨¡å—éœ€è¦ï¼‰
- MinIO / OSSï¼ˆå­˜å‚¨æ¨¡å—å¯é€‰ï¼‰

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/GeWuYou/forgeboot.git
cd forgeboot
```

### 2. æ„å»ºé¡¹ç›®

```bash
# ä½¿ç”¨ Gradle
./gradlew clean build

# è·³è¿‡æµ‹è¯•
./gradlew clean build -x test
```

### 3. è¿è¡Œç¤ºä¾‹

```bash
cd forgeboot-demo/forgeboot-trace-demo
./gradlew bootRun
```

è®¿é—® `http://localhost:8080` æŸ¥çœ‹æ•ˆæœã€‚

---

## ğŸ“š ä½¿ç”¨æŒ‡å—

### å¼•å…¥ä¾èµ–

ä»¥ `forgeboot-cache` ä¸ºä¾‹ï¼Œåœ¨é¡¹ç›®ä¸­å¼•å…¥ï¼š

**Gradle**ï¼š

```kotlin
dependencies {
    implementation("io.github.gewuyou:forgeboot-cache-spring-boot-starter:${version}")
}
```

**Maven**ï¼š

```xml

<dependency>
    <groupId>io.github.gewuyou</groupId>
    <artifactId>forgeboot-cache-spring-boot-starter</artifactId>
    <version>${version}</version>
</dependency>
```

### é…ç½®ç¤ºä¾‹

åœ¨ [`application.yml`](application.yml:1) ä¸­é…ç½®ï¼š

```yaml
forgeboot:
  # ç¼“å­˜é…ç½®
  cache:
    type: redis
    redis:
      host: localhost
      port: 6379
    caffeine:
      spec: maximumSize=1000,expireAfterAccess=5m

  # è°ƒç”¨é“¾è¿½è¸ª
  trace:
    enabled: true

  # æœåŠ¡é˜²æŠ¤
  safeguard:
    enabled: true

  # æ–‡ä»¶å­˜å‚¨
  storage:
    mode: minio
    endpoint: http://localhost:9000
    access-key: minioadmin
    secret-key: minioadmin
    bucket: uploads

  # Web MVC å¢å¼º
  webmvc:
    response:
      include-request-id: true
    exception:
      include-stack-trace: false
    logger:
      enabled: true
      level: INFO
```

### ä»£ç ç¤ºä¾‹

**ä½¿ç”¨ç¼“å­˜**ï¼š

```kotlin
@Service
class UserService {

    @Cacheable("users")
    fun findById(id: Long): User {
        return userRepository.findById(id)
    }

    @CacheEvict("users", key = "#id")
    fun deleteById(id: Long) {
        userRepository.deleteById(id)
    }
}
```

**ä½¿ç”¨é™æµ**ï¼š

```kotlin
@RestController
class OrderController {

    @RateLimit(
        key = "#userId",
        capacity = "100",
        refillTokens = "10",
        refillPeriodMs = "1000"
    )
    @PostMapping("/order")
    fun createOrder(@RequestParam userId: String): ApiResponse {
        return orderService.create(userId)
    }
}
```

**ä½¿ç”¨æ–‡ä»¶å­˜å‚¨**ï¼š

```kotlin
@Service
class FileService(
    private val storageComponent: FullFileStorageComponent
) {
    fun uploadFile(file: MultipartFile): String {
        val meta = storageComponent.uploadFile(file)
        return meta.storageKey
    }
}
```

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ¨¡å—åˆ†å±‚

```
forgeboot/
â”œâ”€â”€ forgeboot-core/              # æ ¸å¿ƒå±‚ï¼šé€šç”¨å·¥å…·ã€æ‰©å±•ã€åºåˆ—åŒ–
â”œâ”€â”€ forgeboot-context/           # ä¸Šä¸‹æ–‡å±‚ï¼šè·¨çº¿ç¨‹/åç¨‹ä¸Šä¸‹æ–‡ä¼ æ’­
â”œâ”€â”€ forgeboot-trace/             # è¿½è¸ªå±‚ï¼šåˆ†å¸ƒå¼è°ƒç”¨é“¾è¿½è¸ª
â”œâ”€â”€ forgeboot-cache/             # ç¼“å­˜å±‚ï¼šå¤šçº§ç¼“å­˜ã€ç¼“å­˜ç­–ç•¥
â”œâ”€â”€ forgeboot-storage/           # å­˜å‚¨å±‚ï¼šæ–‡ä»¶å­˜å‚¨æŠ½è±¡
â”œâ”€â”€ forgeboot-safeguard/         # é˜²æŠ¤å±‚ï¼šé™æµã€å¹‚ç­‰ã€å†·å´
â”œâ”€â”€ forgeboot-i18n/              # å›½é™…åŒ–å±‚ï¼šå¤šè¯­è¨€æ”¯æŒ
â”œâ”€â”€ forgeboot-webmvc/            # Web å±‚ï¼šMVC å¢å¼ºç»„ä»¶
â””â”€â”€ forgeboot-demo/              # ç¤ºä¾‹å±‚ï¼šå„æ¨¡å—ä½¿ç”¨ç¤ºä¾‹
```

### è®¾è®¡åŸåˆ™

- **æ¨¡å—åŒ–**ï¼šæ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œå¯ç‹¬ç«‹ä½¿ç”¨
- **å¯æ‰©å±•**ï¼šæä¾› SPI æœºåˆ¶ï¼Œæ”¯æŒè‡ªå®šä¹‰å®ç°
- **é›¶ä¾µå…¥**ï¼šé€šè¿‡æ³¨è§£å’Œé…ç½®ä½¿ç”¨ï¼Œæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç 
- **é«˜æ€§èƒ½**ï¼šåŸºäº Redis + Lua è„šæœ¬ã€Caffeine æœ¬åœ°ç¼“å­˜ç­‰é«˜æ€§èƒ½æ–¹æ¡ˆ
- **ç”Ÿäº§å°±ç»ª**ï¼šç»è¿‡å……åˆ†æµ‹è¯•ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ

---

## ğŸ› ï¸ æ„å»ºä¸å‘å¸ƒ

### æœ¬åœ°æ„å»º

```bash
# æ„å»ºæ‰€æœ‰æ¨¡å—
./gradlew clean build

# æ„å»ºæŒ‡å®šæ¨¡å—
./gradlew :forgeboot-cache:build

# å‘å¸ƒåˆ°æœ¬åœ° Maven ä»“åº“
./gradlew publishToMavenLocal
```

### å‘å¸ƒåˆ° Maven ä¸­å¤®ä»“åº“

```bash
# ä½¿ç”¨ axion-release æ’ä»¶ç®¡ç†ç‰ˆæœ¬
./gradlew release

# å‘å¸ƒåˆ° Maven Central
./gradlew publish
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æäº¤ Issue æˆ–æ”¹è¿›æ–‡æ¡£ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/your-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/your-feature`
5. æäº¤ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª Kotlin ç¼–ç è§„èŒƒ
- ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œä¿è¯ä»£ç è¦†ç›–ç‡
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- æäº¤ä¿¡æ¯æ¸…æ™°æ˜ç¡®

---

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£ç‰ˆæœ¬æ›´æ–°å†å²ã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0) å¼€æºåè®®ã€‚

```
Copyright 2024 GeWuYou

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```

---

## ğŸ“¬ è”ç³»æ–¹å¼

- **ä½œè€…**ï¼š[@gewuyou](https://github.com/gewuyou)
- **é¡¹ç›®åœ°å€**ï¼š[https://github.com/GeWuYou/forgeboot](https://github.com/GeWuYou/forgeboot)
- **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/GeWuYou/forgeboot/issues)

---


<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by [GeWuYou](https://github.com/gewuyou)

</div>
